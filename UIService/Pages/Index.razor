@page "/"
@using MqttService.Clients
@inject NavigationManager NavigationManager

<div class="col-md-12">
    <Table dir="rtl" Bordered="true"
                    Striped="true" 
                    FixedHeader
                    FixedHeaderTableHeight="400px" 
                    Resizable 
                    ResizeMode="TableResizeMode.Columns">
        <TableHeader>
            <TableRow>
                <TableHeaderCell>کد کلاینت</TableHeaderCell>
                <TableHeaderCell>Endpoint</TableHeaderCell>
                <TableHeaderCell>CleanSession</TableHeaderCell>
                <TableHeaderCell>UserName</TableHeaderCell>
                <TableHeaderCell>تاریخ اتصال</TableHeaderCell>
                <TableHeaderCell>عملیات</TableHeaderCell>
            </TableRow>
        </TableHeader>
        <TableBody>
            @foreach (var item in ConnectedClients.GetClients())
            {

                <TableRow>
                    <TableRowCell>@item.ClientId</TableRowCell>
                    <TableRowCell>@item.Endpoint</TableRowCell>
                    <TableRowCell>@item.CleanSession</TableRowCell>
                    <TableRowCell>@item.UserName</TableRowCell>
                    <TableRowCell>@item.LastConnectedDate</TableRowCell>
                    <TableRowCell>
                            <Button Color="Blazorise.Color.Primary">پنل دستگاه</Button>
                    </TableRowCell>
                </TableRow>

            }
        </TableBody>
    </Table>
</div>
